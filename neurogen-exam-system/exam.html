<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç©†æ¡¥é”€å”®æµ‹éªŒç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 16px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            flex: 1;
        }

        .start-screen {
            text-align: center;
        }

        .start-screen h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .start-screen p {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .question-card {
            display: none;
        }

        .question-card.active {
            display: block;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            font-size: 18px;
            font-weight: bold;
            color: #667eea;
        }

        .question-type {
            background: #f0f0f0;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 14px;
            color: #666;
        }

        .question-text {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #333;
        }

        .options {
            margin-bottom: 25px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .option:hover {
            background: #e9ecef;
        }

        .option.selected {
            background: #e3f2fd;
            border-color: #667eea;
        }

        .option.correct {
            background: #e8f5e8;
            border-color: #4caf50;
        }

        .option.incorrect {
            background: #ffebee;
            border-color: #f44336;
        }

        .option-letter {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #667eea;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .option-text {
            flex: 1;
            font-size: 16px;
            line-height: 1.4;
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 12px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #e8f5e8;
            border-left: 4px solid #4caf50;
        }

        .feedback.incorrect {
            background: #ffebee;
            border-left: 4px solid #f44336;
        }

        .feedback-icon {
            font-size: 20px;
            margin-right: 10px;
        }

        .feedback-text {
            font-size: 16px;
            line-height: 1.5;
        }

        .next-btn {
            margin-top: 20px;
            display: none;
        }

        .next-btn.show {
            display: block;
        }

        .result-screen {
            display: none;
            text-align: center;
        }

        .result-screen.show {
            display: block;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            margin: 20px auto;
        }

        .ai-report {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
            text-align: left;
        }

        .ai-report h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .ai-report p {
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .api-config {
            background: #fff3cd;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid #ffeaa7;
        }

        .api-config h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .api-config input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        .hidden {
            display: none;
        }

        .alert {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid #ffeaa7;
        }

        .alert h3 {
            margin-bottom: 10px;
        }

        .admin-link {
            background: #856404;
            text-decoration: none;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’¼ ç©†æ¡¥é”€å”®æµ‹éªŒç³»ç»Ÿ</h1>
            <div id="loadingStatus" style="font-size: 14px; margin-top: 10px; padding: 5px 10px; border-radius: 15px; background: rgba(255,255,255,0.2);">
                ğŸ”„ æ­£åœ¨åŠ è½½æœ€æ–°é¢˜åº“...
            </div>
        </div>

        <div class="card">
            <!-- å¼€å§‹ç•Œé¢ -->
            <div id="startScreen" class="start-screen">
                <h2>å‡†å¤‡å¼€å§‹è€ƒè¯•</h2>
                <p>æœ¬æ¬¡è€ƒè¯•å°†ä»é¢˜åº“ä¸­éšæœºé€‰æ‹©é¢˜ç›®ï¼ŒåŒ…å«å•é€‰é¢˜å’Œå¤šé€‰é¢˜ã€‚å®Œæˆåå°†è·å¾—AIç”Ÿæˆçš„ä¸ªæ€§åŒ–å­¦ä¹ æŠ¥å‘Šã€‚</p>
                
                <div class="alert">
                    <h3>ğŸ’¡ ç³»ç»Ÿé…ç½®</h3>
                    <p class="management-hint">æœ¬ç³»ç»Ÿä½¿ç”¨åå°ç®¡ç†ç³»ç»Ÿä¸­é…ç½®çš„APIè®¾ç½®ã€‚å¦‚éœ€ä¿®æ”¹APIé…ç½®ï¼Œè¯·è®¿é—®åå°ç®¡ç†ç³»ç»Ÿã€‚</p>
                </div>
                
                <button class="btn" onclick="startExam()">å¼€å§‹è€ƒè¯•</button>
                <button class="btn admin-link" onclick="openAdminPanel()" style="background: #6c757d; margin-top: 10px;">ğŸ”§ åå°ç®¡ç†</button>
            </div>

            <!-- è€ƒè¯•ç•Œé¢ -->
            <div id="examScreen" class="question-card">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <div class="question-header">
                    <span class="question-number" id="questionNumber">ç¬¬1é¢˜ / å…±10é¢˜</span>
                    <span class="question-type" id="questionType">å•é€‰é¢˜</span>
                </div>
                
                <div class="question-text" id="questionText"></div>
                
                <div class="options" id="optionsContainer"></div>
                
                <div class="feedback" id="feedback">
                    <div class="feedback-text" id="feedbackText"></div>
                </div>
                
                <button class="btn next-btn" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜</button>
            </div>

            <!-- ç»“æœç•Œé¢ -->
            <div id="resultScreen" class="result-screen">
                <h2>ğŸ‰ è€ƒè¯•å®Œæˆï¼</h2>
                <div class="score-circle" id="scoreCircle">8/10</div>
                <p id="scoreText">æ‚¨çš„å¾—åˆ†ï¼š80</p>
                
                <div class="ai-report" id="aiReport">
                    <div class="loading" id="reportLoading">
                        <div class="loading-spinner"></div>
                        <p>AIæ­£åœ¨ç”Ÿæˆæ‚¨çš„å­¦ä¹ æŠ¥å‘Š...</p>
                    </div>
                </div>
                
                <button class="btn" onclick="restartExam()">é‡æ–°è€ƒè¯•</button>
                <button class="btn admin-link" onclick="openAdminPanel()" style="background: #6c757d; margin-top: 10px;">ğŸ”§ åå°ç®¡ç†</button>
            </div>
        </div>
    </div>

    <script>
        // é¢˜åº“æ•°æ® - å†…åµŒå¤‡ç”¨æ•°æ®ç¡®ä¿ç¨³å®šè®¿é—®
        let questionBank = [
            {
                "category": "ç–¾ç—…",
                "type": "single",
                "question": "æŒ‰ç…§ç™«ç—«å‘ä½œç±»å‹çš„åˆ†ç±»ä¸­ï¼Œå‘ä½œæ¯”ä¾‹æœ€é«˜çš„æ˜¯ï¼Ÿ",
                "optionA": "å…¨é¢æ€§å‘ä½œ",
                "optionB": "å±€ç¶æ€§å‘ä½œ",
                "optionC": "ç™«ç—«æ€§ç—‰æŒ›",
                "optionD": "åå°„æ€§å‘ä½œ",
                "answer": "B",
                "explanation": ""
            },
            {
                "category": "ç–¾ç—…",
                "type": "multiple",
                "question": "å¥³æ€§ç™«ç—«æ‚£è€…é€‰æ‹©æŠ—å‘ä½œè¯ç‰©æ—¶éœ€è¦æ³¨æ„å“ªäº›é—®é¢˜",
                "optionA": "å¥³æ€§æ‚£è€…å°¤å…¶å…³æ³¨è¯ç‰©å¯¹å®¹è²Œçš„å½±å“",
                "optionB": "å¥³æ€§æ‚£è€…ç‰¹æ®Šçš„ç”Ÿç†ç‰¹ç‚¹ï¼šæœˆç»ï¼Œæ¿€ç´ åˆ†æ³Œç­‰",
                "optionC": "å¥³æ€§æ‚£è€…éœ€é¢å¯¹ç”Ÿè‚²é—®é¢˜",
                "optionD": "å¥³æ€§æ‚£è€…è‚è‚¾ä»£è°¢éšœç¢",
                "answer": "ABC",
                "explanation": ""
            },
            {
                "category": "ç–¾ç—…",
                "type": "multiple",
                "question": "å©´å¹¼å„¿åŠå„¿ç«¥ç™«ç—«æ‚£è€…é€‰æ‹©æŠ—å‘ä½œè¯ç‰©æ—¶éœ€è¦æ³¨æ„å“ªäº›é—®é¢˜",
                "optionA": "å©´å¹¼å„¿è‚è„å’Œè‚¾è„åŠŸèƒ½å‘è‚²å°šæœªå®Œå…¨æˆç†Ÿ",
                "optionB": "å„¿ç«¥æ­£å¤„äºç”Ÿé•¿å‘è‚²å’Œå­¦ä¹ çš„é‡è¦é˜¶æ®µ",
                "optionC": "å„¿ç«¥ç”Ÿé•¿å‘è‚²å¿«ï¼Œåœ¨æ ‡å‡†ä½“é‡èŒƒå›´å†…åº”æŒ‰å…¬æ–¤ä½“é‡è®¡ç®—ç»™è¯é‡",
                "optionD": "å°¤å…¶å…³æ³¨è¯ç‰©\r\nå¯¹å®¹è²Œçš„å½±å“",
                "answer": "ABC",
                "explanation": ""
            },
            {
                "category": "ç–¾ç—…",
                "type": "single",
                "question": "ç™«ç—«å¼‚å¸¸æ”¾ç”µåœ¨å‘ä½œåˆæœŸå°±åŒæ—¶ç´¯åŠäº†åŒä¾§å¤§è„‘åŠçƒï¼Œè¿åŠ¨ç—‡çŠ¶å’Œå‘ä½œçš„è„‘ç”µå›¾å˜åŒ–å‡ä¸ºåŒä¾§æ€§çš„æ˜¯ï¼š",
                "optionA": "å±€ç¶æ€§å‘ä½œè¿›å±•ä¸ºåŒä¾§å¼ºç›´-é˜µæŒ›",
                "optionB": "åå°„æ€§å‘ä½œ",
                "optionC": "å±€ç¶æ€§å‘ä½œ",
                "optionD": "å…¨é¢æ€§å‘ä½œ",
                "answer": "D",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "single",
                "question": "æ ¹æ®å’ä¸­åç™«ç—«ï¼ˆPSEï¼‰è¯Šæ²»çš„ä¸­å›½ä¸“å®¶å…±è¯†ï¼ŒåŠ å·´å–·ä¸ã€ï¼ˆï¼‰ã€æ‹‰è«ä¸‰å—ªç­‰ä¸è‰¯ååº”å‘ç”Ÿç‡ä½ï¼Œä¸æŠ—å‡è¯æˆ–æŠ—è¡€å°æ¿è¯ç‰©ä¹‹é—´æ— æ˜¾è‘—ç›¸äº’ä½œç”¨ï¼Œå¯¹è¡€è„‚å½±å“å°ï¼Œæ¨èä½œä¸ºPSEé¦–é€‰ç”¨è¯",
                "optionA": "å¥¥å¡è¥¿å¹³",
                "optionB": "ä¸™æˆŠé…¸é’ ",
                "optionC": "å·¦ä¹™æ‹‰è¥¿å¦",
                "optionD": "è‹¯å¦¥è‹±é’ ",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "single",
                "question": "æ ¹æ®å’ä¸­åç™«ç—«è¯Šæ²»çš„ä¸­å›½ä¸“å®¶å…±è¯†ï¼Œæœ€æ–°æœ‰ç ”ç©¶æ˜¾ç¤ºé™è„‰ä½¿ç”¨ï¼ˆï¼‰åœ¨æ§åˆ¶éæƒŠå¥æ€§ç™«ç—«æŒç»­çŠ¶æ€ï¼ˆNCSEï¼‰æ—¶æ˜¾ç¤ºå‡ºè‰¯å¥½çš„å®‰å…¨æ€§å’Œæœ‰æ•ˆæ€§ï¼Œæ¨èä½œä¸ºPSEæ‚£è€…NCSEçš„ä¸€çº¿ç”¨è¯",
                "optionA": "æ‹‰è€ƒæ²™èƒº",
                "optionB": "å·¦ä¹™æ‹‰è¥¿å¦",
                "optionC": "å”‘å¡å¦",
                "optionD": "è‹¯å·´æ¯”å¦¥",
                "answer": "A",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "single",
                "question": "ï¼ˆï¼‰æ²»ç–—æ˜¯æœ€é‡è¦ã€æœ€åŸºæœ¬çš„æ²»ç–—ï¼Œä¹Ÿæ˜¯å¤§éƒ¨åˆ†ç™«ç—«æ‚£è€…çš„é¦–é€‰æ²»ç–—æ–¹å¼ã€‚",
                "optionA": "æŠ—ç™«ç—«å‘ä½œè¯",
                "optionB": "å¤–ç§‘æ²»ç–—",
                "optionC": "ç”Ÿé…®é¥®é£Ÿ",
                "optionD": "ç‰©ç†æ²»ç–—",
                "answer": "A",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "single",
                "question": "æŠ—ç™«ç—«å‘ä½œè¯ç‰©ä¸è‰¯ååº”ç®¡ç†æŒ‡å— ï¼ˆ2023ï¼‰æå‡ºï¼š4é¡¹é˜Ÿåˆ—ç ”ç©¶ç»“æœè¡¨æ˜æ‹‰è«ä¸‰å—ªå’Œï¼ˆï¼‰ æ˜¯ ç›® å‰ è®¤ ä¸º å¦Š å¨  æœŸ æœ ç”¨ è¾ƒ ä¸º å®‰ å…¨ çš„ASMï¼ˆè¯æ®çº§åˆ«â…¢çº§ï¼‰",
                "optionA": "å¥¥å¡è¥¿å¹³",
                "optionB": "æ‹‰è«ä¸‰å—ª",
                "optionC": "å·¦ä¹™æ‹‰è¥¿å¦",
                "optionD": "æ‹‰è€ƒæ²™èƒº",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "single",
                "question": "2022ç‰ˆç™«ç—«ä¼´æŠ‘éƒè¯Šæ–­æ²»ç–—çš„ä¸­å›½ä¸“å®¶å…±è¯†æ˜ç¡®è¯´æ˜ï¼šå“ªç§æŠ—ç™«ç—«è¯å¯¹æŠ‘éƒæœ‰æ­£æ€§ä½œç”¨",
                "optionA": "æ‹‰è€ƒæ²™èƒº",
                "optionB": "å·´æ¯”å¦¥ç±»",
                "optionC": "æ‰˜å¡é…¯",
                "optionD": "å·¦ä¹™æ‹‰è¥¿å¦",
                "answer": "A",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "multiple",
                "question": "ä¸­å›½è€å¹´ç™«ç—«æ‚£è€…ç®¡ç†ä¸“å®¶å…±è¯†æ¨èï¼šå¯¹åˆå¹¶æœ‰ä¸¥é‡å¿ƒè„‘è¡€ç®¡åŸºç¡€ç—…çš„è€å¹´ç™«ç—«æ‚£è€…,æ…é‡ä½¿ç”¨é’ é€šé“é˜»æ»å‰‚å’Œä¸™æˆŠé…¸,å¯è€ƒè™‘é€‰æ‹©(â…¡çº§è¯æ®,Bçº§æ¨è)",
                "optionA": "æ‰˜å¡é…¯",
                "optionB": "æ‹‰è«ä¸‰å—ª",
                "optionC": "å·¦ä¹™æ‹‰è¥¿å¦",
                "optionD": "æ‹‰è€ƒæ²™èƒº",
                "answer": "ACD",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "single",
                "question": "å¼ºç›´-é˜µæŒ›æ€§ç™«ç—«æŒç»­ï¼ˆï¼‰åˆ†é’Ÿå³ä¸ºç™«ç—«æŒç»­çŠ¶æ€",
                "optionA": "3åˆ†é’Ÿ",
                "optionB": "5åˆ†é’Ÿ",
                "optionC": "10åˆ†é’Ÿ",
                "optionD": "30åˆ†é’Ÿ",
                "answer": "B",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "multiple",
                "question": "æ ¹æ®2023ç‰ˆä¸´åºŠè¯Šç–—æŒ‡å—ç™«ç—«åˆ†å†Œï¼Œä»¥ä¸‹å±äºæƒŠå¥æ€§ç™«ç—«æŒç»­çŠ¶æ€çš„äºŒçº¿æ²»ç–—è¯ç‰©æœ‰",
                "optionA": "å’ªè¾¾å”‘ä»‘",
                "optionB": "åœ°è¥¿æ³®",
                "optionC": "ä¸™æˆŠé…¸",
                "optionD": "å·¦ä¹™æ‹‰è¥¿å¦",
                "answer": "CD",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "multiple",
                "question": "æŒ‰ç…§2023ç‰ˆä¸´åºŠè¯Šç–—æŒ‡å—ç™«ç—«ç—…åˆ†å†Œï¼Œå·¦ä¹™æ‹‰è¥¿å¦æ˜¯ï¼ˆï¼‰å‘ä½œç±»å‹çš„ä¸€çº¿è¯ç‰©å’Œæ·»åŠ è¯ç‰©ï¼Ÿ",
                "optionA": "å…¨é¢æ€§å¼ºç›´-é˜µæŒ›å‘ä½œ",
                "optionB": "å¼ºç›´æˆ–å¤±å¼ åŠ›å‘ä½œ",
                "optionC": "è‚Œé˜µæŒ›å‘ä½œ",
                "optionD": "å±€ç¶æ€§å‘ä½œ",
                "answer": "ACD",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "multiple",
                "question": "å¥¥å¡è¥¿å¹³ä¸¥é‡çš„ä¸è‰¯ååº”åŒ…æ‹¬",
                "optionA": "çš®ç–¹",
                "optionB": "Stevens-Johnson ç»¼åˆå¾",
                "optionC": "æºå¸¦HLA-B*1502ç­‰ä½åŸºå› æ‚£è€…çš®è‚¤ååº”é£é™©å¢åŠ ",
                "optionD": "è‚¾è„ç–¾ç—…",
                "answer": "ABCD",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "single",
                "question": "ä¼´å‘è‚åŠŸèƒ½æŸå®³çš„ç™«ç—«æ‚£è€…é¦–é€‰æŠ—ç—«è¯ç‰©æ˜¯ï¼š",
                "optionA": "ä¸™æˆŠé…¸é’ ",
                "optionB": "å¥¥å¡è¥¿å¹³",
                "optionC": "å¼€æµ¦å…°",
                "optionD": "æ‹‰è«ä¸‰å—ª",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "multiple",
                "question": "è”åˆç”¨è¯æ—¶è¦æ³¨æ„è¯ç‰©é—´ç›¸äº’ä½œç”¨ï¼Œä¸‹é¢å“ªç§è¯ä¸æ˜¯è‚é…¶è¯±å¯¼å‰‚ï¼š",
                "optionA": "OXC",
                "optionB": "CBZ",
                "optionC": "LEV",
                "optionD": "LCM",
                "answer": "CD",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "multiple",
                "question": "å¥¥å¡è¥¿å¹³å¯èƒ½ä¼šåŠ é‡ä»¥ä¸‹å“ªäº›ç±»å‹çš„å…¨é¢æ€§å‘ä½œåŠ é‡",
                "optionA": "å…¨é¢å¼ºç›´é˜µæŒ›",
                "optionB": "å¼ºç›´æˆ–å¤±å¼ åŠ›",
                "optionC": "å¤±ç¥å‘ä½œ",
                "optionD": "è‚Œé˜µæŒ›å‘ä½œ",
                "answer": "ABCD",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "multiple",
                "question": "å¥¥å¡è¥¿å¹³å¯èƒ½ä¼šä¸ä»¥ä¸‹å“ªäº›è€å¹´æ‚£è€…å¸¸ç”¨è¯ç‰©äº§ç”Ÿç›¸äº’ä½œç”¨",
                "optionA": "é›ŒäºŒé†‡",
                "optionB": "ä¹™ç‚”é›ŒäºŒé†‡",
                "optionC": "èˆæ›²æ—",
                "optionD": "è¾›ä¼ä»–æ±€",
                "answer": "ABCD",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "single",
                "question": "å¤§è§„æ¨¡ç ”ç©¶æ˜¾ç¤ºå·¦ä¹™æ‹‰è¥¿å¦çš„å…ˆå¤©ç•¸å½¢å‘ç”Ÿä½ï¼Œä¸™æˆŠé…¸å…ˆå¤©ç•¸å½¢å‘ç”Ÿç‡é«˜è¾¾ï¼ˆï¼‰%â€‹",
                "optionA": "0.028",
                "optionB": "0.037",
                "optionC": "0.056",
                "optionD": "0.103",
                "answer": "D",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "multiple",
                "question": "ä¸™æˆŠé…¸å¯èƒ½ä¼šä¸ä»¥ä¸‹å“ªäº›è€å¹´æ‚£è€…å¸¸ç”¨è¯ç‰©äº§ç”Ÿç›¸äº’ä½œç”¨",
                "optionA": "é˜¿å¸åŒ¹æ—",
                "optionB": "åæ³•æ—",
                "optionC": "åˆ©åŸ¹é…®",
                "optionD": "è¥¿é…æ™®å…°",
                "answer": "ABCD",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "multiple",
                "question": "ä»¥ä¸‹å“ªäº›å±äºç¬¬ä¸‰ä»£ASMs",
                "optionA": "ä¹™ç¥èƒº",
                "optionB": "å”‘å°¼æ²™èƒº",
                "optionC": "æ‹‰è€ƒæ²™èƒº",
                "optionD": "å¡ä»‘å¸•å¥ˆ",
                "answer": "CD",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "multiple",
                "question": "æœç”¨AEDsï¼Œå°¤å…¶å…·æœ‰é…¶è¯±å¯¼ä½œç”¨çš„AEDså¥³æ€§æ‚£è€…åº”è¯¥ï¼š",
                "optionA": "è¡¥å……Vit Då’Œé’™å‰‚",
                "optionB": "å¢åŠ æ—¥å…‰æµ´",
                "optionC": "æˆ’çƒŸ",
                "optionD": "é™åˆ¶å’–å•¡æ‘„å…¥",
                "answer": "ABCD",
                "explanation": ""
            },
            {
                "category": "å¼€æµ¦å…°",
                "type": "single",
                "question": "å·¦ä¹™æ‹‰è¥¿å¦é€‚åˆè€å¹´æ‚£è€…ä½¿ç”¨ï¼Œå› ä¸ºå¦‚ä¸‹ç‰¹ç‚¹",
                "optionA": "ç–—æ•ˆç¡®åˆ‡ï¼Œå®‰å…¨æ€§å¥½",
                "optionB": "è‰¯å¥½çš„è¯ä»£åŠ¨åŠ›å­¦ç‰¹ç‚¹ï¼Œæ²¡æœ‰ä¸´åºŠæ„ä¹‰çš„ç›¸äº’ä½œç”¨",
                "optionC": "èƒ½æ”¹å–„è®¤çŸ¥å’Œç”Ÿæ´»è´¨é‡",
                "optionD": "ä»¥ä¸Šéƒ½æ˜¯",
                "answer": "D",
                "explanation": ""
            },
            {
                "category": "å¼€æµ¦å…°",
                "type": "single",
                "question": "ä½¿ç”¨å·¦ä¹™æ‹‰è¥¿å¦çš„å¥³æ€§æ‚£è€…å“ºä¹³ï¼Œå…¶è¯ç‰©ä¹³æ±/è¡€æµ†æ¯”ä¾‹",
                "optionA": "é«˜äºå®‰å…¨é˜ˆå€¼",
                "optionB": "åœ¨å®‰å…¨é˜ˆå€¼ä¹‹å†…",
                "optionC": "å°šä¸æ˜ç¡®",
                "optionD": "ä¸æ‚£è€…å¹´é¾„ç›¸å…³",
                "answer": "B",
                "explanation": ""
            },
            {
                "category": "å¼€æµ¦å…°",
                "type": "single",
                "question": "å·¦ä¹™æ‹‰è¥¿å¦é€‚åˆå¥³æ€§ç™«ç—«æ‚£è€…ä½¿ç”¨ï¼Œå› ä¸ºå¦‚ä¸‹ç‰¹ç‚¹ï¼š",
                "optionA": "å¯¹äºé’æ˜¥æœŸæ€§æ¿€ç´ ç­‰å½±å“å°",
                "optionB": "å¦Šå¨ å¦‡å¥³èƒå„¿è‡´ç•¸é£é™©ä½",
                "optionC": "å¯¹äºä½“é‡ã€éª¨ä»£è°¢å‡ ä¹ä¸å½±å“ã€é•¿æœŸä½¿ç”¨èƒ½æ”¹å–„å¥³æ€§ç”Ÿæ´»è´¨é‡",
                "optionD": "ä»¥ä¸Šéƒ½æ˜¯",
                "answer": "D",
                "explanation": ""
            },
            {
                "category": "å¼€æµ¦å…°",
                "type": "single",
                "question": "å·¦ä¹™æ‹‰è¥¿å¦è¡€è¯æµ“åº¦è¾¾å³°æ—¶é—´ä¸ºï¼Ÿ",
                "optionA": "0.6-1.3h",
                "optionB": "1.3-2.3h",
                "optionC": "1.7-2.3h",
                "optionD": "3h",
                "answer": "A",
                "explanation": ""
            },
            {
                "category": "å¼€æµ¦å…°",
                "type": "multiple",
                "question": "å¼€æµ¦å…°é’ˆå‰‚ä¸å£æœç»™è¯å¦‚ä½•è½¬æ¢ï¼Ÿ",
                "optionA": "å¯ä»¥ç›´æ¥è½¬æ¢",
                "optionB": "æ— éœ€é€æ­¥å¢åŠ æˆ–å‡å°‘è¯ç‰©å‰‚é‡",
                "optionC": "æ¯æ—¥æ€»å‰‚é‡å’Œç»™è¯æ¬¡æ•°ç»´æŒä¸å˜",
                "optionD": "éœ€é€æ­¥å¢åŠ æˆ–å‡å°‘è¯ç‰©å‰‚é‡",
                "answer": "ABC",
                "explanation": ""
            },
            {
                "category": "å¼€æµ¦å…°",
                "type": "multiple",
                "question": "å¼€æµ¦å…°é’ˆå‰‚ç¨€é‡Šæ¶²æœ‰",
                "optionA": "0.9%æ°¯åŒ–é’ æ³¨å°„æ¶²",
                "optionB": "5%è‘¡è„ç³–æ³¨å°„æ¶²",
                "optionC": "ä¹³é…¸æ—æ ¼æ°æ³¨å°„æ¶²",
                "optionD": "10%è‘¡è„ç³–æ³¨å°„æ¶²",
                "answer": "ABC",
                "explanation": ""
            },
            {
                "category": "å¼€æµ¦å…°",
                "type": "multiple",
                "question": "å¼€æµ¦å…°é’ˆå‰‚åœ¨æˆäººåŠ50kgä»¥ä¸Šå„¿ç«¥æ‚£è€…ä½¿ç”¨æ—¶ï¼Œèµ·å§‹å‰‚é‡ï¼Œæœ€å¤§å‰‚é‡",
                "optionA": "500mg bid",
                "optionB": "1000mg bid",
                "optionC": "1500mg bid",
                "optionD": "2000mg bid",
                "answer": "AC",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "æˆ‘å›½ä¸€é¡¹ç ”ç©¶è¡¨æ˜ï¼šæ‚£è€…åˆå§‹æˆ–è½¬æ¢ä¸ºLCMå•è¯æ²»ç–—å±€ç¶æ€§ç™«ç—«ã€å…¨é¢æ€§ç™«ç—«ï¼Œåœ¨éšè®¿12ä¸ªæœˆåæœ‰ï¼ˆï¼‰çš„ç™«ç—«å„¿ç«¥æ‚£è€…è¾¾åˆ°ç™«ç—«æ— å‘ä½œã€‚â€‹",
                "optionA": "0.221",
                "optionB": "0.322",
                "optionC": "0.465",
                "optionD": "0.506",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "ç ”ç©¶è¡¨æ˜ï¼š4-17å²å„¿ç«¥ç»´æ´¾ç‰¹è”ç”¨ä»»æ„ASMï¼ˆï¼‰å‘¨ï¼Œä¸¥é‡TEAEså‘ç”Ÿç‡åŠåœè¯ç‡å‡ä¸å®‰æ…°å‰‚ç›¸å½“",
                "optionA": "4",
                "optionB": "6",
                "optionC": "10",
                "optionD": "12",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "éƒ¨åˆ†æ€§å‘ä½œæ·»åŠ æ²»ç–—æ—¶ï¼ŒåŸºäºç–—æ•ˆå’Œè€å—æ€§ï¼Œç»´æ´¾ç‰¹å¯ï¼ˆ  ï¼‰å¢åŠ å‰‚é‡50mgï¼Œä¸€å¤©2æ¬¡ï¼Œç›´è‡³å¢è‡³æœ€é«˜å‰‚é‡ï¼ˆ  ï¼‰mg/dï¼š",
                "optionA": "ä¸€å‘¨ï¼Œ200",
                "optionB": "ä¸¤å‘¨ï¼Œ200",
                "optionC": "ä¸€å‘¨ï¼Œ400",
                "optionD": "ä¸¤å‘¨ï¼Œ600",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "ç»´æ´¾ç‰¹æˆäººå•è¯æ²»ç–—æ—¶ï¼Œåˆå§‹å‰‚é‡ä¸ºï¼ˆï¼‰mg,bidï¼›æœ€é«˜å‰‚é‡æ¯æ—¥ï¼ˆï¼‰mg",
                "optionA": "50100",
                "optionB": "50200",
                "optionC": "100200",
                "optionD": "100400",
                "answer": "D",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "ç»´æ´¾ç‰¹â‰¥11kgï¼Œ<30kgçš„å„¿ç«¥èµ·å§‹å‰‚é‡ä¸ºï¼š",
                "optionA": "1mg/kgï¼Œä¸€æ—¥ä¸¤æ¬¡",
                "optionB": "5mg/kgï¼Œä¸€æ—¥ä¸¤æ¬¡",
                "optionC": "10mg/kgï¼Œä¸€æ—¥ä¸¤æ¬¡",
                "optionD": "15mg/kgï¼Œä¸€æ—¥ä¸¤æ¬¡",
                "answer": "A",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "å¯¹äºç»´æ´¾ç‰¹ï¼Œä»¥ä¸‹æè¿°é”™è¯¯çš„æ˜¯ï¼š",
                "optionA": "ç»´æ´¾ç‰¹ç»™è¯å‰‚é‡çš„95%é€šè¿‡å°¿æ¶²æ’æ³„",
                "optionB": "è½»è‡³ä¸­åº¦è‚åŠŸèƒ½å—æŸæ‚£è€…çš„æœ€é«˜æ¨èå‰‚é‡ä¸º300mg/æ—¥",
                "optionC": "è½»ä¸­åº¦è‚åŠŸèƒ½å—æŸçš„æ‚£è€…æ— éœ€è°ƒæ•´ç»´æ´¾ç‰¹çš„å‰‚é‡",
                "optionD": "æœªåœ¨é‡åº¦è‚åŠŸèƒ½å—æŸæ‚£è€…ä¸­è¯„ä»·æ‹‰è€ƒæ²™èƒºçš„è¯ä»£åŠ¨åŠ›å­¦",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "multiple",
                "question": "è€å¹´æ‚£è€…ä½¿ç”¨ç»´æ´¾ç‰¹ï¼Œæè¿°æ­£ç¡®çš„æ˜¯ï¼š",
                "optionA": "ç ”ç©¶è¡¨æ˜ï¼Œ65å²è€å¹´æ‚£è€…ä¸<65å²æ‚£è€…ç›¸æ¯”ï¼Œä¸è‰¯ååº”å‘ç”Ÿæƒ…å†µç›¸å½“ã€‚",
                "optionB": "è€å¹´æ‚£è€…(ï¼65å²)ä¸€èˆ¬ä¸éœ€è¦å‡é‡",
                "optionC": "å¿ƒè„ç–¾ç—…åˆå¹¶è€å¹´æ‚£è€…ï¼Œæ²»ç–—éœ€è°¨æ…",
                "optionD": "è€å¹´æ‚£è€…åº”è€ƒè™‘å¹´é¾„ç›¸å…³çš„è‚¾è„æ¸…é™¤ç‡ä¸‹é™",
                "answer": "ABCD",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "ç›®å‰ä¸­å›½ç”³è¯·çš„ç»´æ´¾ç‰¹å£æœæº¶æ¶²åŒ…è£…è§„æ ¼ä¸ºï¼š",
                "optionA": "50ml:1g",
                "optionB": "100ml:2g",
                "optionC": "200ml:2g",
                "optionD": "400ml:2g",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "ç»´æ´¾ç‰¹ä¸¤ç§å‰‚å‹å¯ç­‰å‰‚é‡ç­‰é¢‘ç‡è½¬æ¢ï¼Œä¸´åºŠä½¿ç”¨æ›´ç®€å•ï¼Œ50mgç‰‡å‰‚=ï¼ˆï¼‰mlå£æœæ¶²",
                "optionA": "1",
                "optionB": "5",
                "optionC": "10",
                "optionD": "50",
                "answer": "B",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "multiple",
                "question": "ç›®å‰ä¸­å›½ç”³è¯·çš„ç»´æ´¾ç‰¹ç‰‡å‰‚åŒ…è£…è§„æ ¼ä¸ºï¼š",
                "optionA": "50mgï¼Œ 14ç‰‡",
                "optionB": "100mgï¼Œ14ç‰‡",
                "optionC": "100mgï¼Œ28ç‰‡",
                "optionD": "100mgï¼Œ56ç‰‡",
                "answer": "ABD",
                "explanation": ""
            },
            {
                "category": "ASM",
                "type": "multiple",
                "question": "é’ ç¦»å­é€šé“ä¸‰ç§ç”Ÿç†çŠ¶æ€ï¼ŒåŒ…æ‹¬ï¼š",
                "optionA": "å¤±æ´»",
                "optionB": "å…³é—­",
                "optionC": "å¼€æ”¾",
                "optionD": "æ…¢å¤±æ´»",
                "answer": "ABC",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "ä¸­æ—¥æ³¨å†Œç ”ç©¶ä¸­200mg/då‰‚é‡æ—¶ï¼Œç»´æ´¾ç‰¹çš®ç–¹å‘ç”Ÿç‡ï¼š",
                "optionA": "0.027",
                "optionB": "0.017",
                "optionC": "0",
                "optionD": "0.015",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "ä¸­æ—¥æ³¨å†Œç ”ç©¶ä¸­400mg/då‰‚é‡æ—¶ï¼Œç»´æ´¾ç‰¹çš®ç–¹å‘ç”Ÿç‡ï¼š",
                "optionA": "2.70%",
                "optionB": "1.70%",
                "optionC": "0",
                "optionD": "1.50%",
                "answer": "B",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "multiple",
                "question": "åè¥¿åŒ»é™¢ç‰µå¤´çš„ä¸€é¡¹çœŸå®ä¸–ç•Œç ”ç©¶è¡¨æ˜ï¼šLCMä½œä¸ºæ·»åŠ è¯ç‰©ï¼Œåœ¨ç¬¬äº”æ¬¡éšè®¿æ—¶ï¼ˆï¼‰è¯„åˆ†å’Œï¼ˆï¼‰è¯„åˆ†æ˜¾è‘—ä¸‹é™",
                "optionA": "ç„¦è™‘",
                "optionB": "èºç‹‚",
                "optionC": "ç—´å‘†",
                "optionD": "æŠ‘éƒ",
                "answer": "AD",
                "explanation": ""
            },
            {
                "category": "ç»´æ´¾ç‰¹",
                "type": "single",
                "question": "å¾·å›½ä¸€é¡¹çº³å…¥333å‚è€ƒæ–‡çŒ®çš„ä¸´åºŠç»¼è¿°è¡¨æ˜ï¼šç›¸æ¯”å…¶ä»–ASMï¼Œæ‹‰è€ƒæ²™èƒºå¯¹ç¡çœ ã€è¡Œä¸ºã€ç²¾ç¥æ— è´Ÿé¢å½±å“ï¼Œå¯¹ï¼ˆï¼‰æœ‰æ”¹å–„ä½œç”¨",
                "optionA": "æ„è¯†æ°´å¹³",
                "optionB": "æ™ºåŠ›",
                "optionC": "æ‰§è¡ŒåŠ›",
                "optionD": "è®¤çŸ¥",
                "answer": "D",
                "explanation": ""
            },
            {
                "category": "ç–¾ç—…",
                "type": "single",
                "question": "æŒ‰ç…§Hoehnâ€Yahråˆ†çº§ï¼Œ ï¼ˆï¼‰çº§å®šä¹‰ä¸ºæ—©æœŸå¸•é‡‘æ£®",
                "optionA": "0-1.0",
                "optionB": "0-2.0",
                "optionC": "1.0-2.5",
                "optionD": "1.0-3.0",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ç–¾ç—…",
                "type": "multiple",
                "question": "æŒ‰ç…§Hoehnâ€Yahråˆ†çº§ï¼Œ ï¼ˆï¼‰çº§å®šä¹‰ä¸ºåŒä¾§è‚¢ä½“å—ç´¯",
                "optionA": "0",
                "optionB": "1.0",
                "optionC": "2.0",
                "optionD": "3.0",
                "answer": "CD",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "single",
                "question": "2020ã€Šä¸­å›½å¸•é‡‘æ£®ç—…æ²»ç–—æŒ‡å—(ç¬¬å››ç‰ˆ)ã€‹å»ºè®®å¸•é‡‘æ£®ï¼ˆï¼‰è¯Šæ–­ï¼Œï¼ˆï¼‰æ²»ç–—",
                "optionA": "æ—©ï¼Œæ—©æœŸ",
                "optionB": "æ—©ï¼Œå»¶è¿Ÿæ²»ç–—",
                "optionC": "æ—©ï¼Œ1.5å¹´åæ²»ç–—",
                "optionD": "æ™šï¼Œæ—©æœŸ",
                "answer": "A",
                "explanation": ""
            },
            {
                "category": "æŒ‡å—",
                "type": "multiple",
                "question": "2020ã€Šä¸­å›½å¸•é‡‘æ£®ç—…æ²»ç–—æŒ‡å—(ç¬¬å››ç‰ˆ)ã€‹æå‡ºå¸•é‡‘æ£®çš„è¯ç‰©æ²»ç–—ç›®æ ‡ä¸ºï¼š",
                "optionA": "æ”¹å–„ç—‡çŠ¶",
                "optionB": "é¿å…/é™ä½ä¸è‰¯ååº”",
                "optionC": "æé«˜ç”Ÿæ´»è´¨é‡",
                "optionD": "æé«˜å·¥ä½œèƒ½åŠ›",
                "answer": "ABCD",
                "explanation": ""
            },
            {
                "category": "ä¼˜æ™®æ´›",
                "type": "multiple",
                "question": "ä¼˜æ™®æ´›è´´ç‰‡çš„ç»“æ„åŒ…æ‹¬",
                "optionA": "èƒŒè¡¬å±‚",
                "optionB": "è‡ªç²˜åˆåŸºè´¨å±‚",
                "optionC": "ä¿æŠ¤å±‚",
                "optionD": "è´´è†œå±‚",
                "answer": "ABC",
                "explanation": ""
            },
            {
                "category": "ä¼˜æ™®æ´›",
                "type": "single",
                "question": "ä¼˜æ™®æ´›è´´ç‰‡çš„åšåº¦ä¸ºï¼š",
                "optionA": "30 Âµm",
                "optionB": "50 Âµm",
                "optionC": "80 Âµm",
                "optionD": "100 Âµm",
                "answer": "B",
                "explanation": ""
            },
            {
                "category": "ä¼˜æ™®æ´›",
                "type": "multiple",
                "question": "å…³äºä¼˜æ™®æ´›ï¼Œä»¥ä¸‹è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼š",
                "optionA": "24å°æ—¶è¯æ•ˆæŒç»­ç¨³å®š",
                "optionB": "ä¸é€šè¿‡èƒƒè‚ é“å¸æ”¶",
                "optionC": "å¯æ˜¾è‘—æ”¹å–„PDæ‚£è€…è¿åŠ¨ç—‡çŠ¶",
                "optionD": "å®‰å…¨æ€§å’Œè€å—æ€§è‰¯å¥½",
                "answer": "ABCD",
                "explanation": ""
            },
            {
                "category": "ä¼˜æ™®æ´›",
                "type": "single",
                "question": "åå’ŒåŒ»é™¢å¼ æŒ¯é¦¨æ•™æˆç‰µå¤´çš„ï¼Œé’ˆå¯¹ä¸­å›½æ—©æœŸäººç¾¤çš„RCTç ”ç©¶ä¸­æ¼”ç¤ºï¼šä¼˜æ™®æ´›ç¬¬ï¼ˆï¼‰å‘¨å¼€å§‹æ”¹å–„ç—‡çŠ¶ï¼Œç¬¬ï¼ˆï¼‰å‘¨è¾¾åˆ°æœ€å¤§ç–—æ•ˆ",
                "optionA": "2ï¼Œ3",
                "optionB": "3ï¼Œ3",
                "optionC": "3ï¼Œ5",
                "optionD": "3ï¼Œ7",
                "answer": "D",
                "explanation": ""
            },
            {
                "category": "ä¼˜æ™®æ´›",
                "type": "single",
                "question": "ä¼˜æ™®æ´›çš„é€‚åº”ç—‡ä¸ºï¼šé€‚ç”¨äºæ—©æœŸç‰¹å‘æ€§å¸•é‡‘æ£®ç—…ç—‡çŠ¶åŠä½“å¾çš„å•è¯æ²»ç–—ï¼Œæˆ–ä¸ï¼ˆï¼‰è”åˆç”¨äºç—…ç¨‹ä¸­çš„å„ä¸ªé˜¶æ®µ",
                "optionA": "æ™®æ‹‰å…‹ç´¢",
                "optionB": "å¸æ¥å‰å…°",
                "optionC": "å·¦æ—‹å¤šå·´",
                "optionD": "è‹¯æµ·ç´¢",
                "answer": "C",
                "explanation": ""
            },
            {
                "category": "ä¼˜æ™®æ´›",
                "type": "single",
                "question": "æå‰6ä¸ªæœˆä½¿ç”¨ä¼˜æ™®æ´›æ²»ç–—ï¼Œå¯ä½¿æ‚£è€…å›åˆ°åŸºçº¿æ—¶é—´å»¶é•¿ï¼ˆï¼‰å¹´â€‹",
                "optionA": "åŠå¹´",
                "optionB": "1å¹´",
                "optionC": "2å¹´",
                "optionD": "3å¹´",
                "answer": "C",
                "explanation": ""
            }
        ];

        // è€ƒè¯•çŠ¶æ€
        let currentExam = {
            questions: [],
            currentIndex: 0,
            score: 0,
            answers: [],
            selectedOptions: [],
            startTime: null,
            endTime: null
        };

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('load', async function() {
            // æ£€æŸ¥æ˜¯å¦ä¸ºé”€å”®æ¨¡å¼
            const urlParams = new URLSearchParams(window.location.search);
            const isSalesMode = urlParams.get('mode') === 'sales';
            
            if (isSalesMode) {
                // é”€å”®æ¨¡å¼ï¼šéšè—ç®¡ç†åŠŸèƒ½
                document.title = 'ç©†æ¡¥é”€å”®æµ‹éªŒç³»ç»Ÿ';
                console.log('ğŸ¯ é”€å”®æ¨¡å¼å¯åŠ¨');
                
                // æ·»åŠ é”€å”®æ¨¡å¼æ ·å¼
                const style = document.createElement('style');
                style.textContent = `
                    .admin-link { display: none !important; }
                    .management-hint { display: none !important; }
                `;
                document.head.appendChild(style);
            }
            
            // ä¼˜å…ˆä»GitHubåŠ è½½æœ€æ–°é¢˜åº“
            const questionBankSuccess = await loadQuestionBankFromGitHub();
            
            // å¦‚æœGitHubåŠ è½½å¤±è´¥ï¼Œå°è¯•æœ¬åœ°å¤‡ä»½
            if (!questionBankSuccess) {
                loadQuestionBankFromStorage();
            }
            
            // ä¼˜å…ˆä»GitHubåŠ è½½APIé…ç½®
            const apiConfigSuccess = await loadApiConfigFromGitHub();
            
            // å¦‚æœGitHubåŠ è½½å¤±è´¥ï¼Œå°è¯•æœ¬åœ°å¤‡ä»½
            if (!apiConfigSuccess) {
                loadApiConfigFromStorage();
            }
            
            // æ£€æŸ¥é¢˜åº“æ˜¯å¦ä¸ºç©º
            if (questionBank.length === 0) {
                showNoQuestionsAlert();
            }
            
            console.log('è€ƒè¯•ç³»ç»Ÿå·²åŠ è½½ï¼Œé¢˜åº“åŒ…å«', questionBank.length, 'é“é¢˜ç›®');
        });

        // ä»APIç«¯ç‚¹åŠ è½½é¢˜åº“
        async function loadQuestionBankFromGitHub() {
            try {
                console.log('æ­£åœ¨ä»APIç«¯ç‚¹åŠ è½½æœ€æ–°é¢˜åº“...');
                const response = await fetch('/api/questionbank');
                
                if (response.ok) {
                    const onlineQuestionBank = await response.json();
                    if (Array.isArray(onlineQuestionBank) && onlineQuestionBank.length > 0) {
                        questionBank = onlineQuestionBank;
                        // åŒæ­¥åˆ°æœ¬åœ°å­˜å‚¨ä½œä¸ºå¤‡ä»½
                        localStorage.setItem('questionBank', JSON.stringify(questionBank));
                        console.log('âœ… æˆåŠŸåŠ è½½åœ¨çº¿é¢˜åº“:', questionBank.length, 'é“é¢˜ç›®');
                        
                        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                        const statusDiv = document.getElementById('loadingStatus');
                        if (statusDiv) {
                            statusDiv.innerHTML = `âœ… å·²åŠ è½½æœ€æ–°é¢˜åº“ (${questionBank.length}é¢˜)`;
                            statusDiv.style.color = '#28a745';
                        }
                        return true;
                    }
                }
            } catch (error) {
                console.warn('ä»GitHubåŠ è½½é¢˜åº“å¤±è´¥ï¼Œå°è¯•åŠ è½½æœ¬åœ°å¤‡ä»½:', error);
            }
            
            // å¦‚æœåœ¨çº¿åŠ è½½å¤±è´¥ï¼Œå°è¯•åŠ è½½æœ¬åœ°å¤‡ä»½
            return loadQuestionBankFromStorage();
        }

        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½é¢˜åº“ï¼ˆå¤‡ä»½æ–¹æ¡ˆï¼‰
        function loadQuestionBankFromStorage() {
            const saved = localStorage.getItem('questionBank');
            if (saved) {
                try {
                    questionBank = JSON.parse(saved);
                    console.log('ğŸ“‚ åŠ è½½æœ¬åœ°å¤‡ä»½é¢˜åº“:', questionBank.length, 'é“é¢˜ç›®');
                    
                    const statusDiv = document.getElementById('loadingStatus');
                    if (statusDiv) {
                        statusDiv.innerHTML = `ğŸ“‚ ä½¿ç”¨æœ¬åœ°å¤‡ä»½é¢˜åº“ (${questionBank.length}é¢˜)`;
                        statusDiv.style.color = '#ffc107';
                    }
                    return true;
                } catch (error) {
                    console.error('é¢˜åº“æ•°æ®è§£æå¤±è´¥:', error);
                    questionBank = [];
                }
            }
            
            // å¦‚æœæ²¡æœ‰ä»»ä½•é¢˜åº“ï¼Œæ˜¾ç¤ºé”™è¯¯
            const statusDiv = document.getElementById('loadingStatus');
            if (statusDiv) {
                statusDiv.innerHTML = 'âŒ æ— æ³•åŠ è½½é¢˜åº“ï¼Œè¯·ç¨åé‡è¯•';
                statusDiv.style.color = '#dc3545';
            }
            return false;
        }

        // ä»APIç«¯ç‚¹åŠ è½½é…ç½®
        async function loadApiConfigFromGitHub() {
            try {
                console.log('æ­£åœ¨ä»APIç«¯ç‚¹åŠ è½½é…ç½®...');
                const response = await fetch('/api/apiconfig');
                
                if (response.ok) {
                    const onlineConfig = await response.json();
                    
                    // ç›´æ¥ä½¿ç”¨ä»GitHubè·å–çš„å®Œæ•´é…ç½®ï¼ˆåŒ…æ‹¬API Keyï¼‰
                    localStorage.setItem('apiConfig', JSON.stringify(onlineConfig));
                    console.log('âœ… æˆåŠŸåŠ è½½åœ¨çº¿APIé…ç½®:', onlineConfig.provider);
                    
                    // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
                    const statusDiv = document.getElementById('loadingStatus');
                    if (statusDiv) {
                        statusDiv.innerHTML = `âœ… å·²åŠ è½½æœ€æ–°é¢˜åº“ (${questionBank.length}é¢˜) | API: ${onlineConfig.provider}`;
                    }
                    return true;
                }
            } catch (error) {
                console.warn('ä»GitHubåŠ è½½APIé…ç½®å¤±è´¥:', error);
            }
            
            return loadApiConfigFromStorage();
        }

        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½APIé…ç½®ï¼ˆå¤‡ä»½æ–¹æ¡ˆï¼‰
        function loadApiConfigFromStorage() {
            const saved = localStorage.getItem('apiConfig');
            if (saved) {
                try {
                    const config = JSON.parse(saved);
                    console.log('ğŸ“‚ ä½¿ç”¨æœ¬åœ°å¤‡ä»½APIé…ç½®:', config.provider);
                    return true;
                } catch (error) {
                    console.error('APIé…ç½®åŠ è½½å¤±è´¥:', error);
                }
            }
            
            // å¦‚æœæœ¬åœ°å­˜å‚¨ä¹Ÿæ²¡æœ‰ï¼Œä½¿ç”¨é»˜è®¤é…ç½®
            const defaultConfig = {
                "provider": "proxy",
                "url": "https://qwen-proxy.vercel.app/api/proxy",
                "model": "qwen-turbo",
                "key": "",
                "lastUpdated": new Date().toISOString()
            };
            
            localStorage.setItem('apiConfig', JSON.stringify(defaultConfig));
            console.log('ğŸ“‚ ä½¿ç”¨é»˜è®¤APIé…ç½®');
            return true;
        }

        // æ˜¾ç¤ºæ²¡æœ‰é¢˜ç›®çš„æç¤º
        function showNoQuestionsAlert() {
            const startScreen = document.getElementById('startScreen');
            const alertDiv = document.createElement('div');
            alertDiv.className = 'alert';
            
            // æ£€æŸ¥æ˜¯å¦ä¸ºé”€å”®æ¨¡å¼
            const urlParams = new URLSearchParams(window.location.search);
            const isSalesMode = urlParams.get('mode') === 'sales';
            
            if (isSalesMode) {
                alertDiv.innerHTML = `
                    <h3>ğŸ“š é¢˜åº“åŠ è½½ä¸­...</h3>
                    <p>æ­£åœ¨ä»äº‘ç«¯åŠ è½½æœ€æ–°é¢˜åº“ï¼Œè¯·ç¨å€™...</p>
                    <button class="btn" onclick="location.reload()" style="background: #28a745; color: white;">
                        ğŸ”„ é‡æ–°åŠ è½½
                    </button>
                `;
            } else {
                alertDiv.innerHTML = `
                    <h3>âš ï¸ é¢˜åº“ä¸ºç©º</h3>
                    <p class="management-hint">å½“å‰æ²¡æœ‰å¯ç”¨çš„é¢˜ç›®ï¼Œè¯·å…ˆåˆ°åå°ç®¡ç†ç³»ç»Ÿæ·»åŠ é¢˜ç›®ã€‚</p>
                    <button class="btn admin-link" onclick="openAdminPanel()">
                        ğŸ”§ æ‰“å¼€åå°ç®¡ç†
                    </button>
                `;
            }
            
            startScreen.insertBefore(alertDiv, startScreen.children[1]);
        }

        // æ‰“å¼€åå°ç®¡ç†ï¼ˆæ–°çª—å£ï¼‰
        function openAdminPanel() {
            // å°è¯•æ‰“å¼€admin.htmlï¼Œå¦‚æœåŒç›®å½•å­˜åœ¨çš„è¯
            const adminUrl = window.location.href.replace(/[^/]*$/, 'admin.html');
            window.open(adminUrl, '_blank');
        }

        // åˆå§‹åŒ–è€ƒè¯•
        function startExam() {
            // é‡æ–°åŠ è½½é¢˜åº“ï¼Œç¡®ä¿ä½¿ç”¨æœ€æ–°æ•°æ®
            loadQuestionBankFromStorage();
            
            if (questionBank.length === 0) {
                alert('é¢˜åº“ä¸ºç©ºï¼Œè¯·å…ˆåˆ°åå°æ·»åŠ é¢˜ç›®');
                return;
            }
            
            if (questionBank.length < 10) {
                if (!confirm(`å½“å‰é¢˜åº“åªæœ‰${questionBank.length}é“é¢˜ç›®ï¼Œæ˜¯å¦ç»§ç»­è€ƒè¯•ï¼Ÿ`)) {
                    return;
                }
            }
            
            // æ£€æŸ¥åå°APIé…ç½®
            const savedConfig = localStorage.getItem('apiConfig');
            if (!savedConfig) {
                if (!confirm('æœªæ‰¾åˆ°APIé…ç½®ï¼Œå°†æ— æ³•ç”ŸæˆAIè¯„ä¼°æŠ¥å‘Šï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ')) {
                    return;
                }
            } else {
                try {
                    const config = JSON.parse(savedConfig);
                    if (!config.key) {
                        if (!confirm('åå°æœªé…ç½®API Keyï¼Œå°†æ— æ³•ç”ŸæˆAIè¯„ä¼°æŠ¥å‘Šï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ')) {
                            return;
                        }
                    }
                } catch (error) {
                    if (!confirm('APIé…ç½®è¯»å–å¤±è´¥ï¼Œå°†æ— æ³•ç”ŸæˆAIè¯„ä¼°æŠ¥å‘Šï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ')) {
                        return;
                    }
                }
            }
            
            // éšæœºé€‰æ‹©é¢˜ç›®æ•°é‡ï¼ˆæœ€å¤š10é“ï¼Œå¦‚æœé¢˜åº“ä¸è¶³10é“å°±å…¨é€‰ï¼‰
            const examCount = Math.min(10, questionBank.length);
            const shuffled = [...questionBank].sort(() => 0.5 - Math.random());
            currentExam.questions = shuffled.slice(0, examCount);
            currentExam.currentIndex = 0;
            currentExam.score = 0;
            currentExam.answers = [];
            currentExam.selectedOptions = [];
            currentExam.startTime = new Date();
            
            // ä¿å­˜è€ƒè¯•å¼€å§‹è®°å½•
            saveExamRecord('start');
            
            // åˆ‡æ¢åˆ°è€ƒè¯•ç•Œé¢
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('examScreen').style.display = 'block';
            
            // æ˜¾ç¤ºç¬¬ä¸€é¢˜
            showQuestion();
        }

        // æ˜¾ç¤ºé¢˜ç›®
        function showQuestion() {
            const question = currentExam.questions[currentExam.currentIndex];
            const progress = ((currentExam.currentIndex + 1) / currentExam.questions.length) * 100;
            
            // æ›´æ–°è¿›åº¦æ¡
            document.getElementById('progressFill').style.width = progress + '%';
            
            // æ›´æ–°é¢˜ç›®ä¿¡æ¯
            document.getElementById('questionNumber').textContent = `ç¬¬${currentExam.currentIndex + 1}é¢˜ / å…±${currentExam.questions.length}é¢˜`;
            document.getElementById('questionType').textContent = question.type === 'single' ? 'å•é€‰é¢˜' : 'å¤šé€‰é¢˜';
            document.getElementById('questionText').textContent = question.question;
            
            // ç”Ÿæˆé€‰é¡¹
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.onclick = () => selectOption(index);
                
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionsContainer.appendChild(optionElement);
            });
            
            // é‡ç½®çŠ¶æ€
            currentExam.selectedOptions = [];
            document.getElementById('feedback').classList.remove('show');
            document.getElementById('nextBtn').classList.remove('show');
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(index) {
            const question = currentExam.questions[currentExam.currentIndex];
            const options = document.querySelectorAll('.option');
            
            if (question.type === 'single') {
                // å•é€‰é¢˜ï¼šæ¸…é™¤æ‰€æœ‰é€‰æ‹©ï¼Œåªé€‰ä¸­å½“å‰é¡¹
                options.forEach(opt => opt.classList.remove('selected'));
                options[index].classList.add('selected');
                currentExam.selectedOptions = [index];
            } else {
                // å¤šé€‰é¢˜ï¼šåˆ‡æ¢å½“å‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                if (currentExam.selectedOptions.includes(index)) {
                    currentExam.selectedOptions = currentExam.selectedOptions.filter(i => i !== index);
                    options[index].classList.remove('selected');
                } else {
                    currentExam.selectedOptions.push(index);
                    options[index].classList.add('selected');
                }
            }
            
            // å¦‚æœæœ‰é€‰æ‹©ï¼Œæ˜¾ç¤ºæäº¤æŒ‰é’®
            if (currentExam.selectedOptions.length > 0) {
                const nextBtn = document.getElementById('nextBtn');
                nextBtn.textContent = 'æäº¤ç­”æ¡ˆ';
                nextBtn.onclick = submitAnswer;
                nextBtn.classList.add('show');
            }
        }

        // æäº¤ç­”æ¡ˆ
        function submitAnswer() {
            const question = currentExam.questions[currentExam.currentIndex];
            const isCorrect = checkAnswer(question, currentExam.selectedOptions);
            
            // è®°å½•ç­”æ¡ˆ
            currentExam.answers.push({
                question: question,
                userAnswer: currentExam.selectedOptions,
                isCorrect: isCorrect
            });
            
            if (isCorrect) {
                currentExam.score++;
            }
            
            // æ˜¾ç¤ºåé¦ˆ
            showFeedback(isCorrect, question);
            
            // æ›´æ–°æŒ‰é’®
            const nextBtn = document.getElementById('nextBtn');
            if (currentExam.currentIndex < currentExam.questions.length - 1) {
                nextBtn.textContent = 'ä¸‹ä¸€é¢˜';
                nextBtn.onclick = nextQuestion;
            } else {
                nextBtn.textContent = 'æŸ¥çœ‹ç»“æœ';
                nextBtn.onclick = showResults;
            }
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(question, userAnswer) {
            const correct = question.correct.slice().sort();
            const user = userAnswer.slice().sort();
            return JSON.stringify(correct) === JSON.stringify(user);
        }

        // æ˜¾ç¤ºåé¦ˆ
        function showFeedback(isCorrect, question) {
            const feedback = document.getElementById('feedback');
            const feedbackText = document.getElementById('feedbackText');
            
            // æ ‡è®°é€‰é¡¹
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                if (question.correct.includes(index)) {
                    option.classList.add('correct');
                } else if (currentExam.selectedOptions.includes(index)) {
                    option.classList.add('incorrect');
                }
            });
            
            // æ˜¾ç¤ºåé¦ˆä¿¡æ¯
            feedback.className = `feedback show ${isCorrect ? 'correct' : 'incorrect'}`;
            feedbackText.innerHTML = `
                <span class="feedback-icon">${isCorrect ? 'âœ…' : 'âŒ'}</span>
                <strong>${isCorrect ? 'å›ç­”æ­£ç¡®ï¼' : 'å›ç­”é”™è¯¯'}</strong><br>
                ${question.explanation || ''}
            `;
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            currentExam.currentIndex++;
            showQuestion();
        }

        // æ˜¾ç¤ºç»“æœ
        function showResults() {
            currentExam.endTime = new Date();
            const duration = Math.round((currentExam.endTime - currentExam.startTime) / 1000 / 60); // åˆ†é’Ÿ
            const accuracy = (currentExam.score / currentExam.questions.length * 100).toFixed(0);
            
            // ä¿å­˜è€ƒè¯•å®Œæˆè®°å½•
            saveExamRecord('complete', {
                score: currentExam.score,
                total: currentExam.questions.length,
                accuracy: accuracy,
                duration: duration,
                answers: currentExam.answers
            });
            
            // åˆ‡æ¢åˆ°ç»“æœç•Œé¢
            document.getElementById('examScreen').style.display = 'none';
            document.getElementById('resultScreen').classList.add('show');
            
            // æ˜¾ç¤ºåˆ†æ•°
            document.getElementById('scoreCircle').textContent = `${currentExam.score}/${currentExam.questions.length}`;
            document.getElementById('scoreText').textContent = `æ‚¨çš„å¾—åˆ†ï¼š${currentExam.score}`;
            
            // ç”ŸæˆAIæŠ¥å‘Š
            generateAIReport();
        }

        // ç”ŸæˆAIæŠ¥å‘Š
        async function generateAIReport() {
            const reportContainer = document.getElementById('aiReport');
            const loadingElement = document.getElementById('reportLoading');
            
            try {
                // è·å–APIé…ç½®
                let apiConfig = getApiConfig();
                
                // å‡†å¤‡è¯¦ç»†çš„è€ƒè¯•æ•°æ®
                const examData = prepareExamData();
                
                // å°è¯•è°ƒç”¨AI APIç”ŸæˆæŠ¥å‘Š
                let aiReport = null;
                
                if (apiConfig.key) {
                    try {
                        aiReport = await callAIForReport(apiConfig, examData);
                    } catch (error) {
                        console.warn('AI APIè°ƒç”¨å¤±è´¥:', error);
                    }
                }
                
                // ç”ŸæˆæŠ¥å‘Šï¼ˆAIæŠ¥å‘Šæˆ–æœ¬åœ°æŠ¥å‘Šï¼‰
                const finalReport = aiReport || generateLocalReport(examData);
                
                // æ˜¾ç¤ºæŠ¥å‘Š
                loadingElement.style.display = 'none';
                reportContainer.innerHTML = `
                    <h3>ğŸ“Š ${aiReport ? 'AIæ™ºèƒ½' : 'æœ¬åœ°'}è¯„ä¼°æŠ¥å‘Š</h3>
                    <div style="white-space: pre-line; line-height: 1.6;">${finalReport}</div>
                    ${!aiReport ? `
                        <div style="margin-top: 15px; padding: 10px; background: #e3f2fd; border-radius: 8px; font-size: 14px;">
                            ğŸ’¡ <strong>æç¤ºï¼š</strong>å½“å‰ä¸ºæœ¬åœ°ç”ŸæˆæŠ¥å‘Šã€‚<br>
                            å¦‚éœ€AIæ™ºèƒ½åˆ†æï¼Œè¯·åœ¨åå°é…ç½®æœ‰æ•ˆçš„API Keyã€‚<br>
                            æ³¨æ„ï¼šé€šä¹‰åƒé—®å’Œæ™ºè°±AIç­‰æœåŠ¡å¯èƒ½å—CORSé™åˆ¶ï¼Œå»ºè®®ä½¿ç”¨OpenAI APIæˆ–é…ç½®ä»£ç†æœåŠ¡å™¨ã€‚
                        </div>
                    ` : ''}
                `;
                
            } catch (error) {
                console.error('ç”ŸæˆæŠ¥å‘Šæ—¶å‡ºé”™:', error);
                
                // ç”Ÿæˆå®‰å…¨çš„æœ¬åœ°æŠ¥å‘Š
                const fallbackData = prepareFallbackExamData();
                const localReport = generateLocalReport(fallbackData);
                
                loadingElement.style.display = 'none';
                reportContainer.innerHTML = `
                    <h3>ğŸ“Š è€ƒè¯•è¯„ä¼°æŠ¥å‘Š</h3>
                    <div style="white-space: pre-line; line-height: 1.6;">${localReport}</div>
                    <div style="margin-top: 15px; padding: 10px; background: #fff3cd; border-radius: 8px; font-size: 14px; border: 1px solid #ffeaa7;">
                        âš ï¸ <strong>ç³»ç»Ÿæç¤ºï¼š</strong>æŠ¥å‘Šç”Ÿæˆè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå·²åˆ‡æ¢ä¸ºæœ¬åœ°åˆ†æã€‚
                    </div>
                `;
            }
        }

        // è·å–APIé…ç½®
        function getApiConfig() {
            // ç›´æ¥ä»åå°é…ç½®åŠ è½½
            const saved = localStorage.getItem('apiConfig');
            let apiKey = '';
            
            if (saved) {
                try {
                    const config = JSON.parse(saved);
                    apiKey = config.key || '';
                } catch (error) {
                    console.error('åŠ è½½APIé…ç½®å¤±è´¥:', error);
                }
            }
            
            return {
                key: apiKey,
                url: getApiUrl(),
                model: getApiModel()
            };
        }

        // è·å–APIåœ°å€
        function getApiUrl() {
            const saved = localStorage.getItem('apiConfig');
            if (saved) {
                try {
                    const config = JSON.parse(saved);
                    return config.url || 'https://api.openai.com/v1/chat/completions';
                } catch (error) {
                    return 'https://api.openai.com/v1/chat/completions';
                }
            }
            return 'https://api.openai.com/v1/chat/completions';
        }

        // è·å–APIæ¨¡å‹
        function getApiModel() {
            const saved = localStorage.getItem('apiConfig');
            if (saved) {
                try {
                    const config = JSON.parse(saved);
                    return config.model || 'gpt-3.5-turbo';
                } catch (error) {
                    return 'gpt-3.5-turbo';
                }
            }
            return 'gpt-3.5-turbo';
        }

        // å‡†å¤‡è€ƒè¯•æ•°æ®ï¼ˆå®‰å…¨ç‰ˆæœ¬ï¼‰
        function prepareExamData() {
            try {
                const wrongAnswers = currentExam.answers ? currentExam.answers.filter(a => !a.isCorrect) : [];
                const categories = {};
                const detailedQuestions = [];
                
                // å®‰å…¨åœ°å¤„ç†ç­”æ¡ˆæ•°æ®å¹¶æ”¶é›†å®Œæ•´é¢˜ç›®ä¿¡æ¯
                if (currentExam.answers && Array.isArray(currentExam.answers)) {
                    currentExam.answers.forEach((answer, index) => {
                        if (answer && answer.question) {
                            const category = answer.question.category || 'æœªåˆ†ç±»';
                            
                            // åˆ†ç±»ç»Ÿè®¡
                            if (!categories[category]) {
                                categories[category] = { total: 0, correct: 0 };
                            }
                            categories[category].total++;
                            if (answer.isCorrect) {
                                categories[category].correct++;
                            }
                            
                            // æ”¶é›†å®Œæ•´é¢˜ç›®ä¿¡æ¯
                            const questionDetail = {
                                questionNumber: index + 1,
                                category: category,
                                type: answer.question.type === 'single' ? 'å•é€‰é¢˜' : 'å¤šé€‰é¢˜',
                                question: answer.question.question || 'é¢˜ç›®å†…å®¹ç¼ºå¤±',
                                options: {
                                    A: answer.question.optionA || '',
                                    B: answer.question.optionB || '',
                                    C: answer.question.optionC || '',
                                    D: answer.question.optionD || ''
                                },
                                correctAnswer: answer.question.answer || '',
                                userAnswer: answer.userAnswer || '',
                                isCorrect: answer.isCorrect,
                                explanation: answer.question.explanation || ''
                            };
                            detailedQuestions.push(questionDetail);
                        }
                    });
                }
                
                const duration = (currentExam.endTime && currentExam.startTime) ? 
                    Math.round((currentExam.endTime - currentExam.startTime) / 1000 / 60) : 0;
                
                return {
                    totalQuestions: currentExam.questions ? currentExam.questions.length : 0,
                    correctCount: currentExam.score || 0,
                    accuracy: currentExam.questions && currentExam.questions.length > 0 ? 
                        (currentExam.score / currentExam.questions.length * 100).toFixed(1) : '0',
                    duration: duration,
                    categories: categories,
                    wrongAnswers: wrongAnswers,
                    detailedQuestions: detailedQuestions, // æ–°å¢ï¼šå®Œæ•´é¢˜ç›®ä¿¡æ¯
                    examDetails: {
                        startTime: currentExam.startTime,
                        endTime: currentExam.endTime,
                        totalScore: currentExam.score,
                        maxScore: currentExam.questions ? currentExam.questions.length : 0
                    }
                };
            } catch (error) {
                console.error('å‡†å¤‡è€ƒè¯•æ•°æ®æ—¶å‡ºé”™:', error);
                return prepareFallbackExamData();
            }
        }

        // å‡†å¤‡å¤‡ç”¨è€ƒè¯•æ•°æ®
        function prepareFallbackExamData() {
            return {
                totalQuestions: currentExam.questions ? currentExam.questions.length : 10,
                correctCount: currentExam.score || 0,
                accuracy: currentExam.questions && currentExam.questions.length > 0 ? 
                    (currentExam.score / currentExam.questions.length * 100).toFixed(1) : '0',
                duration: 0,
                categories: { 'åŒ»å­¦çŸ¥è¯†': { total: currentExam.questions ? currentExam.questions.length : 10, correct: currentExam.score || 0 } },
                wrongAnswers: [],
                examDetails: {
                    startTime: currentExam.startTime || new Date(),
                    endTime: currentExam.endTime || new Date(),
                    questions: []
                }
            };
        }

        // è°ƒç”¨AIç”ŸæˆæŠ¥å‘Šï¼ˆæ”¹è¿›ç‰ˆæœ¬ï¼‰
        async function callAIForReport(apiConfig, examData) {
            const prompt = generatePrompt(examData);
            
            // æ ¹æ®ä¸åŒçš„APIæœåŠ¡å•†æ„å»ºä¸åŒçš„è¯·æ±‚æ ¼å¼
            let requestBody, headers;
            
            // æ£€æŸ¥æ˜¯å¦æ˜¯Google Gemini API
            if (apiConfig.url.includes('googleapis.com')) {
                // Google Gemini APIæ ¼å¼ - éœ€è¦åœ¨URLä¸­åŒ…å«API Key
                const urlWithKey = `${apiConfig.url}?key=${apiConfig.key}`;
                apiConfig.url = urlWithKey;
                
                requestBody = {
                    contents: [{
                        parts: [{
                            text: prompt
                        }]
                    }],
                    generationConfig: {
                        maxOutputTokens: 1000,
                        temperature: 0.7
                    }
                };
                headers = {
                    'Content-Type': 'application/json'
                };
            } else if (apiConfig.url.includes('dashscope.aliyuncs.com')) {
                // é€šä¹‰åƒé—®APIæ ¼å¼
                requestBody = {
                    model: apiConfig.model,
                    input: {
                        prompt: prompt
                    },
                    parameters: {
                        max_tokens: 1000,
                        temperature: 0.7
                    }
                };
                headers = {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiConfig.key}`,
                    'X-DashScope-SSE': 'disable'
                };
            } else if (apiConfig.url.includes('bigmodel.cn')) {
                // æ™ºè°±AI APIæ ¼å¼
                requestBody = {
                    model: apiConfig.model,
                    messages: [{
                        role: 'user',
                        content: prompt
                    }],
                    max_tokens: 1000,
                    temperature: 0.7
                };
                headers = {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiConfig.key}`
                };
            } else {
                // OpenAIå…¼å®¹æ ¼å¼
                requestBody = {
                    model: apiConfig.model,
                    messages: [{
                        role: 'user',
                        content: prompt
                    }],
                    max_tokens: 1000,
                    temperature: 0.7
                };
                headers = {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiConfig.key}`
                };
            }

            try {
                let fetchOptions = {
                    method: 'POST',
                    headers: headers,
                    body: JSON.stringify(requestBody)
                };

                // å¦‚æœæ˜¯é€šä¹‰åƒé—®APIä¸”URLåŒ…å«vercelæˆ–å…¶ä»–ä»£ç†æœåŠ¡ï¼Œä½¿ç”¨ä»£ç†æ ¼å¼
                if (apiConfig.url.includes('dashscope.aliyuncs.com') || 
                    (apiConfig.url.includes('vercel.app') || apiConfig.url.includes('workers.dev'))) {
                    // å¦‚æœæ˜¯ä»£ç†æœåŠ¡å™¨ï¼Œé‡æ–°æ„é€ è¯·æ±‚
                    if (!apiConfig.url.includes('dashscope.aliyuncs.com')) {
                        // ä¸ºä»£ç†æœåŠ¡å™¨ä½¿ç”¨é€šä¹‰åƒé—®æ ¼å¼
                        const qwenRequestBody = {
                            model: apiConfig.model,
                            input: {
                                prompt: prompt
                            },
                            parameters: {
                                max_tokens: 1000,
                                temperature: 0.7
                            }
                        };
                        fetchOptions.body = JSON.stringify({
                            apiKey: apiConfig.key,
                            requestBody: qwenRequestBody
                        });
                        fetchOptions.headers = {
                            'Content-Type': 'application/json'
                        };
                    }
                }

                const response = await fetch(apiConfig.url, fetchOptions);
                
                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`APIè°ƒç”¨å¤±è´¥: ${response.status} - ${errorText}`);
                }
                
                const data = await response.json();
                
                // æ ¹æ®ä¸åŒAPIè§£æå“åº”
                if (apiConfig.url.includes('googleapis.com')) {
                    // Google Geminiå“åº”æ ¼å¼
                    if (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts[0]) {
                        return data.candidates[0].content.parts[0].text;
                    }
                } else if (apiConfig.url.includes('dashscope.aliyuncs.com') || apiConfig.url.includes('vercel.app') || apiConfig.url.includes('workers.dev')) {
                    // é€šä¹‰åƒé—®å“åº”æ ¼å¼ (åŒ…æ‹¬ä»£ç†æœåŠ¡å™¨)
                    if (data.output && data.output.text) {
                        return data.output.text;
                    }
                } else if (data.choices && data.choices[0]) {
                    // OpenAIå’Œæ™ºè°±AIå“åº”æ ¼å¼
                    if (data.choices[0].message) {
                        return data.choices[0].message.content;
                    } else if (data.choices[0].text) {
                        return data.choices[0].text;
                    }
                }
                
                throw new Error('APIå“åº”æ ¼å¼ä¸æ­£ç¡®');
                
            } catch (error) {
                // å¦‚æœæ˜¯Gemini APIçš„æ¨¡å‹æœªæ‰¾åˆ°é”™è¯¯ï¼Œå°è¯•ä½¿ç”¨å…¶ä»–æ¨¡å‹
                if (error.message.includes('NOT_FOUND') && apiConfig.url.includes('googleapis.com')) {
                    // å°è¯•ä½¿ç”¨gemini-proæ¨¡å‹
                    const fallbackUrl = apiConfig.url.replace('gemini-1.5-flash', 'gemini-pro');
                    try {
                        const fallbackResponse = await fetch(fallbackUrl, {
                            method: 'POST',
                            headers: headers,
                            body: JSON.stringify(requestBody)
                        });
                        
                        if (fallbackResponse.ok) {
                            const fallbackData = await fallbackResponse.json();
                            if (fallbackData.candidates && fallbackData.candidates[0] && fallbackData.candidates[0].content && fallbackData.candidates[0].content.parts && fallbackData.candidates[0].content.parts[0]) {
                                return fallbackData.candidates[0].content.parts[0].text;
                            }
                        }
                    } catch (fallbackError) {
                        console.warn('å¤‡ç”¨Geminiæ¨¡å‹ä¹Ÿå¤±è´¥:', fallbackError);
                    }
                }
                
                // å¦‚æœæ˜¯CORSé”™è¯¯ï¼Œæä¾›æ›´å‹å¥½çš„é”™è¯¯ä¿¡æ¯
                if (error.message.includes('Failed to fetch') || error.message.includes('CORS')) {
                    throw new Error('APIè°ƒç”¨å—æµè§ˆå™¨å®‰å…¨é™åˆ¶é˜»æ­¢ï¼Œå»ºè®®ä½¿ç”¨æ”¯æŒCORSçš„APIæœåŠ¡æˆ–é€šè¿‡æœåŠ¡å™¨ä»£ç†è°ƒç”¨');
                }
                throw error;
            }
        }

        // ç”ŸæˆAIæç¤ºè¯ï¼ˆå®‰å…¨ç‰ˆæœ¬ï¼‰
        function generatePrompt(examData) {
            const categoryText = Object.keys(examData.categories).length > 0 ? 
                Object.entries(examData.categories).map(([category, stats]) => 
                    `${category}ï¼š${stats.correct}/${stats.total} (${(stats.correct/stats.total*100).toFixed(1)}%)`
                ).join('\n') : 'æš‚æ— åˆ†ç±»æ•°æ®';

            // ç”Ÿæˆå®Œæ•´çš„é¢˜ç›®è¯¦æƒ…
            const detailedQuestionsText = examData.detailedQuestions && examData.detailedQuestions.length > 0 ? 
                examData.detailedQuestions.map((q, index) => {
                    return `
ã€é¢˜ç›®${q.questionNumber}ã€‘- ${q.category} - ${q.type}
é¢˜ç›®ï¼š${q.question}
é€‰é¡¹ï¼š
A. ${q.options.A}
B. ${q.options.B}
C. ${q.options.C}
D. ${q.options.D}
æ­£ç¡®ç­”æ¡ˆï¼š${q.correctAnswer}
å­¦å‘˜ç­”æ¡ˆï¼š${q.userAnswer || 'æœªä½œç­”'}
ç­”é¢˜ç»“æœï¼š${q.isCorrect ? 'âœ“ æ­£ç¡®' : 'âœ— é”™è¯¯'}${q.explanation ? '\nè§£æï¼š' + q.explanation : ''}
                    `.trim();
                }).join('\n\n') : 'æ— é¢˜ç›®è¯¦æƒ…';

            return `
ä½œä¸ºä¸“ä¸šçš„åŒ»å­¦æ•™è‚²è¯„ä¼°ä¸“å®¶ï¼Œè¯·æ ¹æ®ä»¥ä¸‹å®Œæ•´çš„è€ƒè¯•æ•°æ®ç”Ÿæˆè¯¦ç»†çš„ä¸ªæ€§åŒ–å­¦ä¹ è¯„ä¼°æŠ¥å‘Šï¼š

=== è€ƒè¯•åŸºæœ¬ä¿¡æ¯ ===
- è€ƒè¯•æ€»é¢˜æ•°ï¼š${examData.totalQuestions}é¢˜
- ç­”å¯¹é¢˜æ•°ï¼š${examData.correctCount}é¢˜  
- ç­”é¢˜æ­£ç¡®ç‡ï¼š${examData.accuracy}%
- è€ƒè¯•ç”¨æ—¶ï¼š${examData.duration}åˆ†é’Ÿ
- è€ƒè¯•æ—¶é—´ï¼š${examData.examDetails.startTime ? new Date(examData.examDetails.startTime).toLocaleString() : 'æœªè®°å½•'}

=== å„çŸ¥è¯†é¢†åŸŸè¡¨ç°ç»Ÿè®¡ ===
${categoryText}

=== å®Œæ•´é¢˜ç›®ä½œç­”æƒ…å†µ ===
${detailedQuestionsText}

=== æŠ¥å‘Šç”Ÿæˆè¦æ±‚ ===
è¯·åŸºäºä»¥ä¸Šå®Œæ•´çš„è€ƒè¯•æ•°æ®ï¼Œç”Ÿæˆä¸€ä»½ä¸“ä¸šçš„ä¸ªæ€§åŒ–å­¦ä¹ è¯„ä¼°æŠ¥å‘Šï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

1. **æ€»ä½“è¡¨ç°è¯„ä»·**ï¼šåŸºäºç­”é¢˜æ­£ç¡®ç‡ã€ç”¨æ—¶ç­‰ç»´åº¦è¿›è¡Œç»¼åˆè¯„ä»·
2. **ä¼˜åŠ¿é¢†åŸŸåˆ†æ**ï¼šè¯†åˆ«å­¦å‘˜è¡¨ç°çªå‡ºçš„çŸ¥è¯†é¢†åŸŸå’Œé¢˜å‹
3. **è–„å¼±ç¯èŠ‚è¯Šæ–­**ï¼šè¯¦ç»†åˆ†æé”™è¯¯é¢˜ç›®ï¼Œæ‰¾å‡ºçŸ¥è¯†ç›²ç‚¹å’Œå¸¸è§é”™è¯¯æ¨¡å¼
4. **ä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®**ï¼šé’ˆå¯¹å…·ä½“çš„é”™è¯¯é¢˜ç›®å’Œè–„å¼±ç¯èŠ‚ï¼Œæä¾›ç²¾å‡†çš„å­¦ä¹ å»ºè®®
5. **å¤ä¹ é‡ç‚¹è§„åˆ’**ï¼šåˆ¶å®šé’ˆå¯¹æ€§çš„å¤ä¹ è®¡åˆ’å’Œæå‡æ–¹å‘

**æŠ¥å‘Šè¦æ±‚**ï¼š
- åˆ†æè¦æ·±å…¥å…·ä½“ï¼Œç»“åˆå®é™…çš„é”™é¢˜è¿›è¡Œåˆ†æ
- å»ºè®®è¦å¯æ“ä½œï¼ŒåŒ…å«å…·ä½“çš„å­¦ä¹ æ–¹æ³•å’Œèµ„æº
- è¯­è¨€ä¸“ä¸šä½†æ˜“æ‡‚ï¼Œä½“ç°åŒ»å­¦æ•™è‚²çš„ä¸“ä¸šæ€§
- å­—æ•°æ§åˆ¶åœ¨600-800å­—ä¹‹é—´ï¼Œç»“æ„æ¸…æ™°

è¯·å¼€å§‹ç”ŸæˆæŠ¥å‘Šï¼š
            `.trim();
        }

        // æœ¬åœ°ç”ŸæˆæŠ¥å‘Šï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰
        function generateLocalReport(examData) {
            const accuracy = parseFloat(examData.accuracy);
            let report = '';

            // æ€»ä½“è¡¨ç°è¯„ä»·
            report += 'ğŸ“ˆ **æ€»ä½“è¡¨ç°è¯„ä»·**\n';
            if (accuracy >= 90) {
                report += `æ‚¨çš„è€ƒè¯•è¡¨ç°ä¼˜ç§€ï¼Œæ­£ç¡®ç‡è¾¾åˆ°${accuracy}%ï¼Œå±•ç°äº†æ‰å®çš„åŒ»å­¦åŸºç¡€çŸ¥è¯†ã€‚`;
            } else if (accuracy >= 80) {
                report += `æ‚¨çš„è€ƒè¯•è¡¨ç°è‰¯å¥½ï¼Œæ­£ç¡®ç‡ä¸º${accuracy}%ï¼ŒåŸºç¡€çŸ¥è¯†æŒæ¡è¾ƒä¸ºæ‰å®ï¼Œè¿˜æœ‰è¿›æ­¥ç©ºé—´ã€‚`;
            } else if (accuracy >= 70) {
                report += `æ‚¨çš„è€ƒè¯•è¡¨ç°ä¸­ç­‰ï¼Œæ­£ç¡®ç‡ä¸º${accuracy}%ï¼Œéƒ¨åˆ†çŸ¥è¯†ç‚¹éœ€è¦åŠ å¼ºå­¦ä¹ ã€‚`;
            } else if (accuracy >= 60) {
                report += `æ‚¨çš„æ­£ç¡®ç‡ä¸º${accuracy}%ï¼Œå»ºè®®ç³»ç»Ÿæ€§å¤ä¹ ç›¸å…³åŒ»å­¦çŸ¥è¯†ç‚¹ã€‚`;
            } else {
                report += `æ‚¨çš„æ­£ç¡®ç‡ä¸º${accuracy}%ï¼Œå»ºè®®ä»åŸºç¡€çŸ¥è¯†å¼€å§‹ï¼Œç³»ç»Ÿæ€§å­¦ä¹ åŒ»å­¦ç›¸å…³å†…å®¹ã€‚`;
            }

            report += '\n\n';

            // å„é¢†åŸŸåˆ†æ
            report += 'ğŸ“Š **å„é¢†åŸŸè¡¨ç°åˆ†æ**\n';
            const sortedCategories = Object.entries(examData.categories).sort((a, b) => 
                (b[1].correct / b[1].total) - (a[1].correct / a[1].total)
            );

            if (sortedCategories.length > 0) {
                const best = sortedCategories[0];
                const worst = sortedCategories[sortedCategories.length - 1];
                
                report += `â€¢ ä¼˜åŠ¿é¢†åŸŸï¼š${best[0]} (${(best[1].correct/best[1].total*100).toFixed(1)}%)\n`;
                
                if (sortedCategories.length > 1) {
                    report += `â€¢ è–„å¼±é¢†åŸŸï¼š${worst[0]} (${(worst[1].correct/worst[1].total*100).toFixed(1)}%)\n`;
                }
                
                // è¯¦ç»†åˆ†ç±»ç»Ÿè®¡
                report += '\nå„çŸ¥è¯†é¢†åŸŸè¯¦ç»†è¡¨ç°ï¼š\n';
                sortedCategories.forEach(([category, stats]) => {
                    const categoryAccuracy = (stats.correct/stats.total*100).toFixed(1);
                    const emoji = categoryAccuracy >= 80 ? 'ğŸŸ¢' : categoryAccuracy >= 60 ? 'ğŸŸ¡' : 'ğŸ”´';
                    report += `${emoji} ${category}ï¼š${stats.correct}/${stats.total} (${categoryAccuracy}%)\n`;
                });
            }

            report += '\n';

            // é”™è¯¯åˆ†æ
            if (examData.wrongAnswers.length > 0) {
                report += 'âŒ **é”™è¯¯é¢˜ç›®åˆ†æ**\n';
                report += `æœ¬æ¬¡è€ƒè¯•ä¸­æ‚¨ç­”é”™äº†${examData.wrongAnswers.length}é“é¢˜ç›®ï¼Œä¸»è¦æ¶‰åŠï¼š\n`;
                
                const errorCategories = {};
                examData.wrongAnswers.forEach(answer => {
                    const category = answer.question.category;
                    if (!errorCategories[category]) {
                        errorCategories[category] = 0;
                    }
                    errorCategories[category]++;
                });

                Object.entries(errorCategories).forEach(([category, count]) => {
                    report += `â€¢ ${category}ï¼š${count}é¢˜\n`;
                });

                report += '\n';
            }

            // å­¦ä¹ å»ºè®®
            report += 'ğŸ’¡ **å­¦ä¹ å»ºè®®**\n';
            if (examData.wrongAnswers.length > 0) {
                report += '1. é‡ç‚¹å¤ä¹ é”™è¯¯é¢˜ç›®æ¶‰åŠçš„çŸ¥è¯†ç‚¹\n';
                report += '2. å»ºè®®é’ˆå¯¹è–„å¼±é¢†åŸŸè¿›è¡Œä¸“é¡¹ç»ƒä¹ \n';
                report += '3. å®šæœŸå›é¡¾å’Œå·©å›ºå·²æŒæ¡çš„çŸ¥è¯†\n';
                
                // æ ¹æ®é”™è¯¯ç±»å‹ç»™å‡ºå…·ä½“å»ºè®®
                if (examData.wrongAnswers.some(a => a.question.type === 'multiple')) {
                    report += '4. å¤šé€‰é¢˜ç»ƒä¹ ï¼šæ³¨æ„å®¡é¢˜ï¼Œè€ƒè™‘æ‰€æœ‰å¯èƒ½çš„æ­£ç¡®é€‰é¡¹\n';
                }
            } else {
                report += '1. ä¿æŒç°æœ‰çš„å­¦ä¹ èŠ‚å¥å’Œæ–¹æ³•\n';
                report += '2. å¯ä»¥å°è¯•æ›´æœ‰æŒ‘æˆ˜æ€§çš„é¢˜ç›®\n';
                report += '3. å…³æ³¨æœ€æ–°çš„åŒ»å­¦ç ”ç©¶è¿›å±•\n';
            }

            report += '\n';

            // åç»­æå‡æ–¹å‘
            report += 'ğŸ¯ **åç»­æå‡æ–¹å‘**\n';
            if (accuracy < 80) {
                report += 'â€¢ å»ºè®®ç³»ç»Ÿæ€§å­¦ä¹ åŒ»å­¦åŸºç¡€ç†è®º\n';
                report += 'â€¢ å¤šåšç»ƒä¹ é¢˜ï¼Œæé«˜è§£é¢˜ç†Ÿç»ƒåº¦\n';
                report += 'â€¢ é‡ç‚¹å…³æ³¨è–„å¼±çŸ¥è¯†é¢†åŸŸ\n';
            } else {
                report += 'â€¢ æ·±å…¥å­¦ä¹ ä¸“ä¸šç»†åˆ†é¢†åŸŸ\n';
                report += 'â€¢ å…³æ³¨ä¸´åºŠå®è·µåº”ç”¨\n';
                report += 'â€¢ æé«˜å¤æ‚é¢˜ç›®çš„åˆ†æèƒ½åŠ›\n';
            }
            
            if (examData.duration > 0) {
                if (examData.duration < 5) {
                    report += 'â€¢ ç­”é¢˜é€Ÿåº¦è¾ƒå¿«ï¼Œå¯ä»¥æ›´ä»”ç»†åœ°å®¡é¢˜\n';
                } else if (examData.duration > 20) {
                    report += 'â€¢ å¯ä»¥æé«˜ç­”é¢˜é€Ÿåº¦ï¼ŒåŠ å¼ºçŸ¥è¯†çš„ç†Ÿç»ƒç¨‹åº¦\n';
                }
            }
            
            report += 'â€¢ å®šæœŸè¿›è¡ŒçŸ¥è¯†æ£€æµ‹ï¼ŒåŠæ—¶æŸ¥æ¼è¡¥ç¼º';

            return report;
        }

        // ä¿å­˜è€ƒè¯•è®°å½•
        function saveExamRecord(type, data = {}) {
            try {
                let examRecords = JSON.parse(localStorage.getItem('examRecords') || '[]');
                
                const record = {
                    id: Date.now(),
                    timestamp: new Date().toISOString(),
                    type: type, // 'start' æˆ– 'complete'
                    data: data
                };
                
                examRecords.unshift(record); // æ·»åŠ åˆ°å¼€å¤´
                
                // åªä¿ç•™æœ€è¿‘50æ¡è®°å½•
                if (examRecords.length > 50) {
                    examRecords = examRecords.slice(0, 50);
                }
                
                localStorage.setItem('examRecords', JSON.stringify(examRecords));
                console.log('è€ƒè¯•è®°å½•å·²ä¿å­˜:', type, data);
            } catch (error) {
                console.error('ä¿å­˜è€ƒè¯•è®°å½•å¤±è´¥:', error);
            }
        }

        // é‡æ–°å¼€å§‹è€ƒè¯•
        function restartExam() {
            document.getElementById('resultScreen').classList.remove('show');
            document.getElementById('startScreen').style.display = 'block';
        }
    </script>
</body>
</html>